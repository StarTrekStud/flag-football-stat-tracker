<div class="panel panel-default" ng-init="getPlays()">
    <div class="panel-heading">
        <h3 class="panel-title">View Stats
            <span class="pull-right">Filter by Player:
                <select ng-model="full_names" ng-init="selected"
                        ng-options="player.full_names as player.full_names for player in playerList | filter:team_names">
                    <option value="" selected="selected">All</option>
                </select>
            </span>
            <span class="pull-right">Filter by Team:
                <select ng-model="team_names" ng-init="selected"
                        ng-options="team.team_names as team.team_names for team in teamList">
                    <option value="" selected="selected">All</option>
                </select>
            </span>
        </h3>
    </div>
    <div class="panel-body">
        <div ng-if="team_names != selected">
            <div ng-if="full_names == selected">
                <div ng-repeat="player in players | filter:team_names">
                    <div class="row">
                        <div class="col-md-6">
                            <p>Team Name: <em>{{player.team_names}}</em></p>
                            <p>Full Name: <em>{{player.full_names}}</em></p>
                            <p>Position: <em>{{player.positions}}</em></p>
                        </div>
                        <div class="row">
                            <div ng-repeat="play in plays | filter: { $: full_names, results: 'Drop' } as drops">
                            </div>
                            <label>&nbsp;Drops: {{drops.length}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if="full_names != selected">
                <div ng-repeat="player in players | filter:team_names | filter:full_names">
                    <div class="row">
                        <div class="col-md-6">
                            <p>Team Name: <em>{{player.team_names}}</em></p>
                            <p>Full Name: <em>{{player.full_names}}</em></p>
                            <p>Position: <em>{{player.positions}}</em></p>
                        </div>
                        <div class="row">
                            <div ng-repeat="play in plays | filter: { $: full_names, results: 'Drop' } as drops">
                            </div>
                            <label>&nbsp;Drops: {{drops.length}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="team_names == selected">
            <div ng-if="full_names == selected">
                <div ng-repeat="player in players">
                    <div class="row">
                        <div class="col-md-6">
                            <p>Team Name: <em>{{player.team_names}}</em></p>
                            <p>Full Name: <em>{{player.full_names}}</em></p>
                            <p>Position: <em>{{player.positions}}</em></p>
                        </div>
                        <div class="row">
                            <div ng-repeat="play in plays | filter: { $: full_names, results: 'Drop' } as drops">
                            </div>
                            <label>&nbsp;Drops: {{drops.length}}</label>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if="full_names != selected">
                <div ng-repeat="player in players | filter:full_names">
                    <div class="row">
                        <div class="col-md-6">
                            <p>Team Name: <em>{{player.team_names}}</em></p>
                            <p>Full Name: <em>{{player.full_names}}</em></p>
                            <p>Position: <em>{{player.positions}}</em></p>
                        </div>
                        <div class="row">
                            <div ng-repeat="play in plays | filter: { $: full_names, results: 'Drop' } as drops">
                            </div>
                            <label>&nbsp;Drops: {{drops.length}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
